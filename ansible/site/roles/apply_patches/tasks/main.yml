- name: Install updates (CentOS)
  tags: always
  dnf:
    update_only: yes
    update_cache: yes
  when: ansible_distribution == "CentOS"
  register: updated
  notify: 
    - Reboot after update

- name: Install updates (Ubuntu)
  tags: always
  apt:
    upgrade: dist
    update_cache: yes
  when: ansible_distribution == "Ubuntu"
  register: updated
  notify: 
    - Reboot after update

- name: Install updates (Debian)
  tags: always
  apt:
    upgrade: dist
    update_cache: yes
  when: ansible_distribution == "Debian"
  register: updated
  notify: 
    - Reboot after update